<?xml version="1.0" encoding="utf-8"?>
<rMateGrid backgroundColor="0xEEEEEE">
	<SpanRowAttribute id="sumRowAttr" styleName="allTotalStyle" backgroundColor="0xFFFF00"/>
	<SpanCellAttribute id="sum1CellAttr" colNo="0" styleName="subTotalStyle" backgroundColor="0xCCDD66"/>
	<SpanCellAttribute id="sum2CellAttr" colNo="1" styleName="subTotalStyle" backgroundColor="0xFFCC33"/>
	<SpanCellAttribute id="sumTotalCellAttr" colNo="0" styleName="allTotalHeaderStyle"/>

	<NumberFormatter id="numfmt" useThousandsSeparator="true"/>
	<PercentFormatter id="percfmt" useThousandsSeparator="true"/>
	<DataGrid id="dg1" horizontalScrollPolicy="auto" horizontalGridLines="true" horizontalGridLineColor="0xCCCCCC"
		variableRowHeight="true" verticalAlign="middle" selectionMode="singleCell">
		<groupedColumns>
			<DataGridColumn id="dg1col1" dataField="Year" textAlign="center"/>
			<DataGridColumn id="dg1col2" dataField="Quarter" textAlign="center"/>
			<DataGridColumn dataField="Month" textAlign="center"/>
			<DataGridColumnGroup headerText="Region">
				<DataGridColumnGroup headerText="Korea">
					<DataGridColumn id="dg1col4" dataField="Seoul" textAlign="right" labelJsFunction="formatSeoul"/>
					<DataGridColumn id="dg1col5" dataField="Pusan" textAlign="right" formatter="{numfmt}"/>
					<DataGridColumn id="dg1col6" dataField="Incheon" textAlign="right" formatter="{numfmt}"/>
				</DataGridColumnGroup>
				<DataGridColumnGroup headerText="U.S.A.">
					<DataGridColumn id="dg1col7" dataField="NewYork" textAlign="right" headerText="New York"/>
					<DataGridColumn id="dg1col8" dataField="LA" textAlign="right" headerText="L.A."/>
					<DataGridColumn id="dg1col9" dataField="Washington" textAlign="right"/>
				</DataGridColumnGroup>
			</DataGridColumnGroup>
			<DataGridColumnGroup headerText="Sum">
				<DataGridColumn id="dg1col10" dataField="Revenue" textAlign="right"/>
				<DataGridColumn id="dg1col11" dataField="Percent" textAlign="right" formatter="{percfmt}"/>
			</DataGridColumnGroup>
		</groupedColumns>
		<dataProvider>
			<!-- 그리드의 자료를 dataProvider가 아닌 별도의 컴포넌트에 입력해야 할 경우 아래와 같이 $gridData를 넣어줍니다 -->
			<SpanSummaryCollection source="{$gridData}">
				<!-- 병합을 원하는 필드의 필드명을 차례대로 넣어줍니다 -->
				<mergingFields>
					<SpanMergingField name="Year">
						<!-- 병합시 소계를 만들 내용을  넣어줍니다 -->
						<SpanSummaryRow label="년 소계" labelDataField="Year" rowAttribute="{sumRowAttr}" cellAttribute="{sum1CellAttr}">
							<SpanSummaryField dataField="Seoul" summaryOperation="SUM" />
							<SpanSummaryField dataField="Pusan" summaryOperation="SUM" />
							<SpanSummaryField dataField="Incheon" summaryOperation="SUM" />
							<SpanSummaryField dataField="NewYork" summaryOperation="SUM" />
							<SpanSummaryField dataField="LA" summaryOperation="SUM" />
							<SpanSummaryField dataField="Washington" summaryOperation="SUM" />
						</SpanSummaryRow>
					</SpanMergingField>
					<SpanMergingField name="Quarter">
						<!-- 병합시 소계를 만들 내용을  넣어줍니다 -->
						<SpanSummaryRow label="분기 소계" labelDataField="Quarter" rowAttribute="{sumRowAttr}" cellAttribute="{sum2CellAttr}">
							<SpanSummaryField dataField="Seoul" summaryOperation="SUM" />
							<SpanSummaryField dataField="Pusan" summaryOperation="SUM" />
							<SpanSummaryField dataField="Incheon" summaryOperation="SUM" />
							<SpanSummaryField dataField="NewYork" summaryOperation="SUM" />
							<SpanSummaryField dataField="LA" summaryOperation="SUM" />
							<SpanSummaryField dataField="Washington" summaryOperation="SUM" />
						</SpanSummaryRow>
					</SpanMergingField>
				</mergingFields>
				<!-- 전체 합계를 만들어 넣어 주도록 합니다 -->
				<summaries>
					<SpanSummaryRow summaryPlacement="last" label="합계" labelDataField="Year" rowAttribute="{sumRowAttr}" cellAttribute="{sumTotalCellAttr}">
						<SpanSummaryField dataField="Seoul" summaryOperation="SUM" />
						<SpanSummaryField dataField="Pusan" summaryOperation="SUM" />
						<SpanSummaryField dataField="Incheon" summaryOperation="SUM" />
						<SpanSummaryField dataField="NewYork" summaryOperation="SUM" />
						<SpanSummaryField dataField="LA" summaryOperation="SUM" />
						<SpanSummaryField dataField="Washington" summaryOperation="SUM" />
					</SpanSummaryRow>
				</summaries>
			</SpanSummaryCollection>
		</dataProvider>
	</DataGrid>
	<Style>
		.subTotalStyle {
			color: #669900;
			textAlign: center;
		}
		.allTotalHeaderStyle {
			color: #0000FF;
			fontWeight: bold;
			textAlign: center;
		}
		.allTotalStyle {
			color: #0000FF;
			fontWeight: bold;
			textAlign: right;
		}
	</Style>
</rMateGrid>